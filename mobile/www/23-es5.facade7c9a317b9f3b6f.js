function _classCallCheck(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(a,i.key,i)}}function _createClass(a,e,n){return e&&_defineProperties(a.prototype,e),n&&_defineProperties(a,n),a}(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{eMXd:function(a,e,n){"use strict";n.r(e),n.d(e,"ApplianceDetailPageModule",(function(){return Y}));var i=n("ofXK"),t=n("3Pt+"),o=n("TEn/"),r=n("tyNb"),c=n("MO+k"),s=n("wd/R"),b=n("fXoL"),l=n("XwMe"),p=n("ZcN4"),d=["canvasDay"],u=["canvasWeek"],h=["canvasMonth"],m=["canvasYear"];function f(a,e){if(1&a&&b.Kb(0,"ion-img",23),2&a){var n=b.ac();b.fc("src",n.iconLCD)}}function g(a,e){if(1&a&&b.Kb(0,"ion-img",23),2&a){var n=b.ac();b.fc("src",n.iconLamp)}}function v(a,e){if(1&a&&b.Kb(0,"ion-img",23),2&a){var n=b.ac();b.fc("src",n.iconLamp1)}}function y(a,e){if(1&a&&b.Kb(0,"ion-img",23),2&a){var n=b.ac();b.fc("src",n.iconDryer)}}function N(a,e){if(1&a&&b.Kb(0,"ion-img",23),2&a){var n=b.ac();b.fc("src",n.iconAirCond)}}function O(a,e){if(1&a&&b.Kb(0,"ion-img",23),2&a){var n=b.ac();b.fc("src",n.iconDishwasher)}}function D(a,e){if(1&a&&b.Kb(0,"ion-img",23),2&a){var n=b.ac();b.fc("src",n.iconToaster)}}function C(a,e){if(1&a&&b.Kb(0,"ion-img",23),2&a){var n=b.ac();b.fc("src",n.iconDryer)}}function k(a,e){if(1&a&&b.Kb(0,"ion-img",23),2&a){var n=b.ac();b.fc("src",n.iconDryer)}}function w(a,e){if(1&a&&b.Kb(0,"ion-img",23),2&a){var n=b.ac();b.fc("src",n.iconMicrowave)}}function I(a,e){if(1&a&&b.Kb(0,"ion-img",23),2&a){var n=b.ac();b.fc("src",n.iconAir)}}function W(a,e){if(1&a&&b.Kb(0,"ion-img",23),2&a){var n=b.ac();b.fc("src",n.iconDeep)}}function M(a,e){if(1&a&&b.Kb(0,"ion-img",23),2&a){var n=b.ac();b.fc("src",n.iconBlender)}}function B(a,e){if(1&a&&b.Kb(0,"ion-img",23),2&a){var n=b.ac();b.fc("src",n.iconInduction)}}function z(a,e){if(1&a&&b.Kb(0,"ion-img",23),2&a){var n=b.ac();b.fc("src",n.iconIron)}}function K(a,e){if(1&a&&b.Kb(0,"ion-img",23),2&a){var n=b.ac();b.fc("src",n.iconVacuum)}}function H(a,e){1&a&&(b.Ob(0,"div"),b.Kb(1,"canvas",null,24),b.Nb())}function x(a,e){1&a&&(b.Ob(0,"div"),b.Kb(1,"canvas",null,25),b.Nb())}function S(a,e){1&a&&(b.Ob(0,"div"),b.Kb(1,"canvas",null,26),b.Nb())}function T(a,e){1&a&&(b.Ob(0,"div"),b.Kb(1,"canvas",null,27),b.Nb())}var R,A,J,L=[{path:"",component:(R=function(){function a(e,n,i,t){var o=this;_classCallCheck(this,a),this.applianceService=e,this.deviceService=n,this.router=i,this.activatedRoute=t,this.applianceName="Lamp",this.iconError="assets/img/default/404-error.svg",this.iconAirCond="assets/img/appliance/air-conditioner.svg",this.iconDishwasher="assets/img/appliance/dishwasher.svg",this.iconFridge="assets/img/appliance/fridge.svg",this.iconLamp="assets/img/appliance/lamp.svg",this.iconLamp1="assets/img/appliance/lamp-1.svg",this.iconLCD="assets/img/appliance/lcd.svg",this.iconMicrowave="assets/img/appliance/microwave.svg",this.iconToaster="assets/img/appliance/toaster.svg",this.iconDryer="assets/img/appliance/tumble-dryer.svg",this.iconAir="assets/img/appliance/air.svg",this.iconBlender="assets/img/appliance/blender.svg",this.iconDeep="assets/img/appliance/deep.svg",this.iconInduction="assets/img/appliance/induction.svg",this.iconIron="assets/img/appliance/iron.svg",this.iconVacuum="assets/img/appliance/vacuum.svg",this.getData(),this.activatedRoute.queryParams.subscribe((function(a){a&&a.special&&(o.appliance=JSON.parse(a.special))}))}return _createClass(a,[{key:"ngOnInit",value:function(){var a=this;this.segment="D",this.intervalCSV=setInterval((function(){a.getCSV()}),3e3)}},{key:"ionViewDidEnter",value:function(){this.initChartDay()}},{key:"ngOnDestroy",value:function(){clearInterval(this.intervalCSV)}},{key:"getData",value:function(){}},{key:"navigatePage",value:function(a){this.router.navigate(["/"+a])}},{key:"segmentChanged",value:function(a){var e=this;console.log(a),"D"==this.segment?setTimeout((function(){e.initChartDay()}),1e3):"W"==this.segment?setTimeout((function(){e.initChartWeek()}),1e3):"M"==this.segment?setTimeout((function(){e.initChartMonth()}),1e3):"Y"==this.segment&&setTimeout((function(){e.initChartYear()}),1e3)}},{key:"initChartDay",value:function(){this.chartDay=new c.Chart(this.canvasDay.nativeElement,{type:"line",data:{labels:[],datasets:[{label:"",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:[],spanGaps:!1}]}})}},{key:"initChartWeek",value:function(){this.chartWeek=new c.Chart(this.canvasWeek.nativeElement,{type:"line",data:{labels:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],datasets:[{label:"",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:[65,59,80,81,56,55,40],spanGaps:!1}]}})}},{key:"initChartMonth",value:function(){this.chartMonth=new c.Chart(this.canvasMonth.nativeElement,{type:"line",data:{labels:["Week 1","Week 2","Week 3","Week 4","Week 5"],datasets:[{label:"",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:[65,59,80,81,56],spanGaps:!1}]}})}},{key:"initChartYear",value:function(){this.chartYear=new c.Chart(this.canvasYear.nativeElement,{type:"line",data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:[65,59,80,81,56,55,40],spanGaps:!1}]}})}},{key:"getCSV",value:function(){var a=this;this.chartDay.data.labels=[],this.chartDay.data.datasets.data=[],this.deviceService.getValue().subscribe((function(e){e.forEach((function(e){if("Fridge"==a.appliance.type&&"Fridge"==e.label){var n=240*Number(e.power)/1e3,i=s.unix(e.time).format("h:mm:ss a");a.chartDay.data.labels.push(i),a.chartDay.data.datasets[0].data.push(n),a.chartDay.update()}else if("AC"==a.appliance.type||"AC"==e.label){console.log("tes"),console.log(a.appliance.type),console.log(e.label);var t=240*Number(e.power)/1e3,o=s.unix(e.time).format("h:mm:ss a");a.chartDay.data.labels.push(o),a.chartDay.data.datasets[0].data.push(t),a.chartDay.update()}else if("Dryer"==a.appliance.type&&"Dryer"==e.label){var r=240*Number(e.power)/1e3,c=s.unix(e.time).format("h:mm:ss a");a.chartDay.data.labels.push(c),a.chartDay.data.datasets[0].data.push(r),a.chartDay.update()}else if("Washing"==a.appliance.type&&"Washing"==e.label){var b=240*Number(e.power)/1e3,l=s.unix(e.time).format("h:mm:ss a");a.chartDay.data.labels.push(l),a.chartDay.data.datasets[0].data.push(b),a.chartDay.update()}else if("Microwave"==a.appliance.type&&"Microwave"==e.label){var p=240*Number(e.power)/1e3,d=s.unix(e.time).format("h:mm:ss a");a.chartDay.data.labels.push(d),a.chartDay.data.datasets[0].data.push(p),a.chartDay.update()}else if("Air"==a.appliance.type&&"Air"==e.label){var u=240*Number(e.power)/1e3,h=s.unix(e.time).format("h:mm:ss a");a.chartDay.data.labels.push(h),a.chartDay.data.datasets[0].data.push(u),a.chartDay.update()}else if("Deep"==a.appliance.type&&"Deep"==e.label){var m=240*Number(e.power)/1e3,f=s.unix(e.time).format("h:mm:ss a");a.chartDay.data.labels.push(f),a.chartDay.data.datasets[0].data.push(m),a.chartDay.update()}else if("Blender"==a.appliance.type&&"Blender"==e.label){var g=240*Number(e.power)/1e3,v=s.unix(e.time).format("h:mm:ss a");a.chartDay.data.labels.push(v),a.chartDay.data.datasets[0].data.push(g),a.chartDay.update()}else if("Induction"==a.appliance.type&&"Induction"==e.label){var y=240*Number(e.power)/1e3,N=s.unix(e.time).format("h:mm:ss a");a.chartDay.data.labels.push(N),a.chartDay.data.datasets[0].data.push(y),a.chartDay.update()}else if("Iron"==a.appliance.type&&"Iron"==e.label){var O=240*Number(e.power)/1e3,D=s.unix(e.time).format("h:mm:ss a");a.chartDay.data.labels.push(D),a.chartDay.data.datasets[0].data.push(O),a.chartDay.update()}else if("Vacuum"==a.appliance.type&&"Vacuum"==e.label){var C=240*Number(e.power)/1e3,k=s.unix(e.time).format("h:mm:ss a");a.chartDay.data.labels.push(k),a.chartDay.data.datasets[0].data.push(C),a.chartDay.update()}}))}))}}]),a}(),R.\u0275fac=function(a){return new(a||R)(b.Jb(l.a),b.Jb(p.a),b.Jb(r.g),b.Jb(r.a))},R.\u0275cmp=b.Db({type:R,selectors:[["app-appliance-detail"]],viewQuery:function(a,e){var n;1&a&&(b.qc(d,!0),b.qc(u,!0),b.qc(h,!0),b.qc(m,!0)),2&a&&(b.hc(n=b.Xb())&&(e.canvasDay=n.first),b.hc(n=b.Xb())&&(e.canvasWeek=n.first),b.hc(n=b.Xb())&&(e.canvasMonth=n.first),b.hc(n=b.Xb())&&(e.canvasYear=n.first))},decls:121,vars:22,consts:[["mode","ios",1,"ion-no-border"],["mode","ios","color","primary"],["slot","start"],["defaultHref","/core/appliances","routerLink","/core/appliances","routerDirection","back","text",""],["style","max-width: 50%; margin-top: 5%; margin-left: auto; margin-right: auto",3,"src",4,"ngIf"],["mode","ios"],[1,"ion-margin"],["lines","none"],[1,"ion-no-margin"],[2,"font-size","0.7rem","margin","0"],["slot","end","color","primary","disabled",""],[1,"ion-text-center"],[3,"ngModel","ngModelChange","ionChange"],["value","D"],["value","W"],["value","M"],["value","Y"],[4,"ngIf"],[1,"text-bold"],["slot","end"],[1,"ion-text-end","text-bold"],[1,"text-small"],[1,"ion-no-margin",2,"color","#000"],[2,"max-width","50%","margin-top","5%","margin-left","auto","margin-right","auto",3,"src"],["canvasDay",""],["canvasWeek",""],["canvasMonth",""],["canvasYear",""]],template:function(a,e){1&a&&(b.Ob(0,"ion-header",0),b.Ob(1,"ion-toolbar",1),b.Ob(2,"ion-buttons",2),b.Kb(3,"ion-back-button",3),b.Nb(),b.Ob(4,"ion-title"),b.nc(5,"Appliance Detail"),b.Nb(),b.Nb(),b.Nb(),b.Ob(6,"ion-content"),b.mc(7,f,1,1,"ion-img",4),b.mc(8,g,1,1,"ion-img",4),b.mc(9,v,1,1,"ion-img",4),b.mc(10,y,1,1,"ion-img",4),b.mc(11,N,1,1,"ion-img",4),b.mc(12,O,1,1,"ion-img",4),b.mc(13,D,1,1,"ion-img",4),b.mc(14,C,1,1,"ion-img",4),b.mc(15,k,1,1,"ion-img",4),b.mc(16,w,1,1,"ion-img",4),b.mc(17,I,1,1,"ion-img",4),b.mc(18,W,1,1,"ion-img",4),b.mc(19,M,1,1,"ion-img",4),b.mc(20,B,1,1,"ion-img",4),b.mc(21,z,1,1,"ion-img",4),b.mc(22,K,1,1,"ion-img",4),b.Ob(23,"ion-card",5),b.Ob(24,"ion-card-content"),b.Ob(25,"ion-list",6),b.Ob(26,"ion-item",7),b.Ob(27,"ion-label",2),b.Ob(28,"h2",8),b.nc(29),b.Nb(),b.Ob(30,"ion-text"),b.Ob(31,"h3",9),b.nc(32," Year 2020 "),b.Nb(),b.Ob(33,"h3",9),b.nc(34," 12 Month Warranty "),b.Nb(),b.Nb(),b.Nb(),b.Kb(35,"ion-toggle",10),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Ob(36,"ion-card",5),b.Ob(37,"ion-card-header",11),b.Ob(38,"ion-segment",12),b.Wb("ngModelChange",(function(a){return e.segment=a}))("ionChange",(function(a){return e.segmentChanged(a)})),b.Ob(39,"ion-segment-button",13),b.Ob(40,"ion-label"),b.nc(41,"D"),b.Nb(),b.Nb(),b.Ob(42,"ion-segment-button",14),b.Ob(43,"ion-label"),b.nc(44,"W"),b.Nb(),b.Nb(),b.Ob(45,"ion-segment-button",15),b.Ob(46,"ion-label"),b.nc(47,"M"),b.Nb(),b.Nb(),b.Ob(48,"ion-segment-button",16),b.Ob(49,"ion-label"),b.nc(50,"Y"),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Ob(51,"ion-card-content"),b.mc(52,H,3,0,"div",17),b.mc(53,x,3,0,"div",17),b.mc(54,S,3,0,"div",17),b.mc(55,T,3,0,"div",17),b.Nb(),b.Ob(56,"ion-list",5),b.Ob(57,"ion-item",7),b.Ob(58,"ion-label",2),b.Ob(59,"p",18),b.nc(60,"Total usage"),b.Nb(),b.Nb(),b.Ob(61,"ion-label",19),b.Ob(62,"h3",20),b.nc(63,"3.3"),b.Ob(64,"span",21),b.nc(65,"kWh"),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Ob(66,"ion-item",7),b.Ob(67,"ion-label",2),b.Ob(68,"p",18),b.nc(69,"Total est. cost"),b.Nb(),b.Nb(),b.Ob(70,"ion-label",19),b.Ob(71,"h3",20),b.Ob(72,"span",21),b.nc(73,"~"),b.Nb(),b.nc(74," 0.4"),b.Ob(75,"span",21),b.nc(76,"sen"),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Ob(77,"ion-item",7),b.Ob(78,"ion-label",2),b.Ob(79,"p",18),b.nc(80,"Times on"),b.Nb(),b.Nb(),b.Ob(81,"ion-label",19),b.Ob(82,"h3",20),b.nc(83," 180"),b.Ob(84,"span",21),b.nc(85,"x"),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Ob(86,"ion-item",7),b.Ob(87,"ion-label",2),b.Ob(88,"p",18),b.nc(89,"Total time on"),b.Nb(),b.Nb(),b.Ob(90,"ion-label",19),b.Ob(91,"h3",20),b.nc(92," 3"),b.Ob(93,"span",21),b.nc(94,"h"),b.Nb(),b.nc(95," 37"),b.Ob(96,"span",21),b.nc(97,"m"),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Ob(98,"ion-card",5),b.Ob(99,"ion-card-header"),b.Ob(100,"h5",22),b.nc(101," Stats "),b.Nb(),b.Nb(),b.Ob(102,"ion-list",5),b.Ob(103,"ion-item",7),b.Ob(104,"ion-label",2),b.Ob(105,"p",18),b.nc(106,"Est. cost/year"),b.Nb(),b.Nb(),b.Ob(107,"ion-label",19),b.Ob(108,"h3",20),b.Ob(109,"span",21),b.nc(110,"~RM"),b.Nb(),b.nc(111,"45"),b.Nb(),b.Nb(),b.Nb(),b.Ob(112,"ion-item",7),b.Ob(113,"ion-label",2),b.Ob(114,"p",18),b.nc(115,"Avg. % of usage"),b.Nb(),b.Nb(),b.Ob(116,"ion-label",19),b.Ob(117,"h3",20),b.nc(118,"0.4"),b.Ob(119,"span",21),b.nc(120,"%"),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb()),2&a&&(b.zb(7),b.fc("ngIf","TV"==e.appliance.type),b.zb(1),b.fc("ngIf","Lamp"==e.appliance.type),b.zb(1),b.fc("ngIf","Light"==e.appliance.type),b.zb(1),b.fc("ngIf","Fridge"==e.appliance.type),b.zb(1),b.fc("ngIf","AC"==e.appliance.type),b.zb(1),b.fc("ngIf","Dishwasher"==e.appliance.type),b.zb(1),b.fc("ngIf","Toaster"==e.appliance.type),b.zb(1),b.fc("ngIf","Dryer"==e.appliance.type),b.zb(1),b.fc("ngIf","Washing"==e.appliance.type),b.zb(1),b.fc("ngIf","Microwave"==e.appliance.type),b.zb(1),b.fc("ngIf","Air"==e.appliance.type),b.zb(1),b.fc("ngIf","Deep"==e.appliance.type),b.zb(1),b.fc("ngIf","Blender"==e.appliance.type),b.zb(1),b.fc("ngIf","Induction"==e.appliance.type),b.zb(1),b.fc("ngIf","Iron"==e.appliance.type),b.zb(1),b.fc("ngIf","Vacuum"==e.appliance.type),b.zb(7),b.pc(" ",e.appliance.name," "),b.zb(9),b.fc("ngModel",e.segment),b.zb(14),b.fc("ngIf","D"==e.segment),b.zb(1),b.fc("ngIf","W"==e.segment),b.zb(1),b.fc("ngIf","M"==e.segment),b.zb(1),b.fc("ngIf","Y"==e.segment))},directives:[o.p,o.M,o.h,o.d,o.e,o.R,r.h,o.K,o.m,i.j,o.i,o.j,o.v,o.t,o.u,o.I,o.L,o.a,o.k,o.z,o.S,t.g,t.i,o.A,o.r],styles:[""]}),R)}],V=((J=function a(){_classCallCheck(this,a)}).\u0275mod=b.Hb({type:J}),J.\u0275inj=b.Gb({factory:function(a){return new(a||J)},imports:[[r.i.forChild(L)],r.i]}),J),Y=((A=function a(){_classCallCheck(this,a)}).\u0275mod=b.Hb({type:A}),A.\u0275inj=b.Gb({factory:function(a){return new(a||A)},imports:[[i.b,t.e,o.N,V]]}),A)}}]);