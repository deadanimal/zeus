function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,e){for(var o=0;o<e.length;o++){var t=e[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function _createClass(n,e,o){return e&&_defineProperties(n.prototype,e),o&&_defineProperties(n,o),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{lu3c:function(n,e,o){"use strict";o.r(e),o.d(e,"LoginPageModule",(function(){return O}));var t=o("ofXK"),i=o("3Pt+"),r=o("TEn/"),a=o("tyNb"),s=o("fXoL"),c=o("imvL"),l=o("caAo"),g=o("dICO");function u(n,e){if(1&n&&(s.Ob(0,"div",20),s.nc(1),s.Nb()),2&n){var o=s.ac().$implicit;s.zb(1),s.pc(" ",o.message," ")}}function b(n,e){if(1&n&&(s.Mb(0),s.mc(1,u,2,1,"div",19),s.Lb()),2&n){var o=e.$implicit,t=s.ac();s.zb(1),s.fc("ngIf",t.loginForm.get("username").hasError(o.type)&&(t.loginForm.get("username").dirty||t.loginForm.get("username").touched))}}function m(n,e){if(1&n&&(s.Ob(0,"ion-button",21),s.nc(1," Login "),s.Nb()),2&n){var o=s.ac();s.fc("disabled",!o.loginForm.valid)}}function d(n,e){1&n&&(s.Ob(0,"ion-button",22),s.Kb(1,"ion-spinner",23),s.Nb())}var f,p,h,v=[{path:"",component:(f=function(){function n(e,o,t,i,r){_classCallCheck(this,n),this.authService=e,this.userService=o,this.formBuilder=t,this.toastr=i,this.router=r,this.loginFormMessages={username:[{type:"required",message:"Email is required."},{type:"pattern",message:"Please enter a valid email."}],password:[{type:"required",message:"Password is required."},{type:"minlength",message:"At least 6 characters long."}]},this.isLoading=!1}return _createClass(n,[{key:"ngOnInit",value:function(){this.loginForm=this.formBuilder.group({username:new i.b("",i.k.compose([i.k.required,i.k.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")])),password:new i.b("",i.k.compose([i.k.minLength(6),i.k.required]))})}},{key:"tryLogin",value:function(n){console.log(n)}},{key:"login",value:function(){var n=this;this.isLoading=!0,this.authService.obtainToken(this.loginForm.value).subscribe((function(){}),(function(){n.isLoading=!1}),(function(){n.getSelf()}))}},{key:"getSelf",value:function(){var n=this;this.userService.getOne(this.authService.userID).subscribe((function(){}),(function(){n.isLoading=!1}),(function(){n.isLoading=!1,n.toastr.openToastr("Welcome back"),n.navigateHomePage()}))}},{key:"tipu",value:function(){this.loginForm.controls.username.setValue("syafiqbasri@pipeline.com.my"),this.loginForm.controls.password.setValue("PabloEscobar"),this.login()}},{key:"navigateHomePage",value:function(){this.router.navigate(["/core/dashboard"],{replaceUrl:!0})}},{key:"navigatePage",value:function(n){this.router.navigate([n])}}]),n}(),f.\u0275fac=function(n){return new(n||f)(s.Jb(c.a),s.Jb(l.a),s.Jb(i.a),s.Jb(g.a),s.Jb(a.g))},f.\u0275cmp=s.Db({type:f,selectors:[["app-login"]],decls:35,vars:4,consts:[["fullscreen",""],[1,"wave-container"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 1440 320"],["fill","#5e72e4","fill-opacity","1","d","M0,128L48,154.7C96,181,192,235,288,245.3C384,256,480,224,576,186.7C672,149,768,107,864,80C960,53,1056,43,1152,64C1248,85,1344,139,1392,165.3L1440,192L1440,0L1392,0C1344,0,1248,0,1152,0C1056,0,960,0,864,0C768,0,672,0,576,0C480,0,384,0,288,0C192,0,96,0,48,0L0,0Z"],[1,"main-content","ion-padding","login-container"],["src","assets/red.png"],[1,"form",3,"formGroup","ngSubmit"],[1,"ion-text-center","ion-padding-bottom"],[3,"click"],["lines","none",1,"ion-no-padding","ion-no-margin"],["position","stacked"],["type","text","formControlName","username","placeholder","Your Email"],[1,"validation-errors"],[4,"ngFor","ngForOf"],["type","password","formControlName","password","placeholder","Password"],[1,"validation-errors","ion-text-right"],[1,"ion-text-center"],["type","submit","shape","round","color","primary","mode","ios",3,"disabled",4,"ngIf"],["disabled","","type","submit","shape","round","color","primary","mode","ios",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"error-message"],["type","submit","shape","round","color","primary","mode","ios",3,"disabled"],["disabled","","type","submit","shape","round","color","primary","mode","ios"],["name","bubbles"]],template:function(n,e){1&n&&(s.Ob(0,"ion-content",0),s.Ob(1,"div",1),s.Zb(),s.Ob(2,"svg",2),s.Kb(3,"path",3),s.Nb(),s.Nb(),s.Yb(),s.Ob(4,"div",4),s.Ob(5,"ion-grid"),s.Ob(6,"ion-row"),s.Ob(7,"ion-col"),s.Kb(8,"img",5),s.Ob(9,"form",6),s.Wb("ngSubmit",(function(){return e.login()})),s.Ob(10,"p",7),s.nc(11,"Please enter your "),s.Ob(12,"span",8),s.Wb("click",(function(){return e.tipu()})),s.nc(13,"credentials"),s.Nb(),s.Nb(),s.Ob(14,"ion-item",9),s.Ob(15,"ion-label",10),s.nc(16,"Your email"),s.Nb(),s.Kb(17,"ion-input",11),s.Nb(),s.Ob(18,"div",12),s.mc(19,b,2,1,"ng-container",13),s.Nb(),s.Ob(20,"ion-item",9),s.Ob(21,"ion-label",10),s.nc(22,"Password"),s.Nb(),s.Kb(23,"ion-input",14),s.Nb(),s.Ob(24,"div",15),s.Ob(25,"p"),s.Ob(26,"a",8),s.Wb("click",(function(){return e.navigatePage("/auth/forgot")})),s.nc(27,"Forgot Password "),s.Nb(),s.Nb(),s.Nb(),s.Ob(28,"div",16),s.mc(29,m,2,1,"ion-button",17),s.mc(30,d,2,0,"ion-button",18),s.Ob(31,"p"),s.nc(32,"No account yet? "),s.Ob(33,"a",8),s.Wb("click",(function(){return e.navigatePage("/auth/register")})),s.nc(34,"Create an account."),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb()),2&n&&(s.zb(9),s.fc("formGroup",e.loginForm),s.zb(10),s.fc("ngForOf",e.loginFormMessages.username),s.zb(10),s.fc("ngIf",!e.isLoading),s.zb(1),s.fc("ngIf",e.isLoading))},directives:[r.m,r.o,r.y,r.l,i.l,i.h,i.d,r.t,r.u,r.s,r.T,i.g,i.c,t.i,t.j,r.g,r.E],styles:[".main-content[_ngcontent-%COMP%]{display:grid;align-items:center;align-content:center;justify-content:center;justify-items:center;height:100%}.form[_ngcontent-%COMP%]{min-width:250px!important}.form[_ngcontent-%COMP%]   .validation-errors[_ngcontent-%COMP%]{min-height:25px}.form[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:var(--ion-color-danger);text-align:right;font-size:.8em;padding-top:5px}.form[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--color:var(--ion-color-medium);--placeholder-font-weight:400;--background:#f2f2f2;border-radius:15px;--padding-start:15px!important;margin-top:.7rem}.form[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background:transparent;--inner-padding-end:0;border-radius:15px}img[_ngcontent-%COMP%]{max-width:8rem;margin-left:auto;margin-right:auto;display:block}ion-button[_ngcontent-%COMP%]{--border-radius:50px;--box-shadow:none;font-size:14px;font-weight:600;margin-top:40px}.copyright[_ngcontent-%COMP%]{font-size:.8rem;color:#000}.wave-container[_ngcontent-%COMP%]{position:relative;color:#fff;overflow:hidden}.wave-container[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{height:200px}@-webkit-keyframes animateWave{0%{transform:scaleY(0)}to{transform:scale(1)}}@keyframes animateWave{0%{transform:scaleY(0)}to{transform:scale(1)}}.wave-container[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{display:block;transform-origin:bottom;-webkit-animation:animateWave 1s cubic-bezier(.23,1,.32,1) forwards;animation:animateWave 1s cubic-bezier(.23,1,.32,1) forwards}.login-container[_ngcontent-%COMP%]{margin-top:-20vh}"]}),f)}],y=((h=function n(){_classCallCheck(this,n)}).\u0275mod=s.Hb({type:h}),h.\u0275inj=s.Gb({factory:function(n){return new(n||h)},imports:[[a.i.forChild(v)],a.i]}),h),O=((p=function n(){_classCallCheck(this,n)}).\u0275mod=s.Hb({type:p}),p.\u0275inj=s.Gb({factory:function(n){return new(n||p)},imports:[[t.b,i.e,i.j,r.N,y]]}),p)}}]);